{% extends 'partials/base.html.twig' %}
{% set scope = form.scope %}
{% set field_layout = 'admin' %}

{% block body %}
<body id="admin-login-wrapper">
    <section id="admin-login" class="default-glow-shadow {{ classes }}">
        {% include 'partials/login-logo.html.twig' %}

        {% include 'partials/messages.html.twig' %}

        {% block instructions %}{% endblock %}

        <form method="post" action="">
            <div class="padding">
                {% block form %}{% endblock %}
                {% include "forms/fields/formname/formname.html.twig" %}
                {% include 'forms/fields/uniqueid/uniqueid.html.twig' %}
                {{ nonce_field(form.getNonceAction() ?? 'form', form.getNonceName() ?? 'form-nonce')|raw }}
            </div>
        </form>
    </section>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const accTitles = document.querySelectorAll('.gdlr-core-accordion-item-title');
    accTitles.forEach(title => {
        title.addEventListener('click', () => {
            const tab = title.closest('.gdlr-core-accordion-item-tab');
            const isActive = tab.classList.contains('gdlr-core-active');
            document.querySelectorAll('.gdlr-core-accordion-item-tab').forEach(t => t.classList.remove('gdlr-core-active'));
            if (!isActive) tab.classList.add('gdlr-core-active');
        });
    });
});
</script>
</body>
{% endblock %}
