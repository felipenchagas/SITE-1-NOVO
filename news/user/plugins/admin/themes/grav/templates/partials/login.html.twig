{% extends 'partials/base.html.twig' %}
{% set scope = form.scope %}
{% set field_layout = 'admin' %}

{% block messages %}{% endblock %}

{% block body %}
<body id="admin-login-wrapper">
    <section id="admin-login" class="login-box-shadow {{ classes }}">

        {% include 'partials/login-logo.html.twig' %}

        {% include 'partials/messages.html.twig' %}

        {% block instructions %}{% endblock %}

        {% block integration %}{% endblock %}

        <form method="post" action="">
            <div class="padding">
                {% block form %}{% endblock %}
                {{ nonce_field(form.getNonceAction(), form.getNonceName())|raw }}
            </div>
        </form>

        <script>
            $(document).ready( function() {
                $('#messages').delay(5000).animate({ height: 'toggle', opacity: 'toggle' }, 'slow');
            });
        </script>
    </section>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const accTitles = document.querySelectorAll('.gdlr-core-accordion-item-title');
    accTitles.forEach(title => {
        title.addEventListener('click', () => {
            const tab = title.closest('.gdlr-core-accordion-item-tab');
            const isActive = tab.classList.contains('gdlr-core-active');
            document.querySelectorAll('.gdlr-core-accordion-item-tab').forEach(t => t.classList.remove('gdlr-core-active'));
            if (!isActive) tab.classList.add('gdlr-core-active');
        });
    });
});
</script>
</body>
{% endblock %}
